# Explainaion

I clean the tape data and the LOB data for one date as an example, which includes:

- Tape data: 
    - add column names
    - `Timestamp`: convert to datetime
    - check missing values and outliers
    - plot the price and volume distribution
- LOB data:
    - parse the txt file by line
    - add column names
    - split the `Order` column into `Bid Price`, `Bid Quantity`, `Ask Price`, and `Ask Quantity`
    - check missing values and outliers

### Datasets
#### Single Date
- `lob_data_expanded.csv`: Parsed LOB data 
- `lob_expanded_clean.csv`: Cleaned LOB data(drop Na)
- `tape1.csv`: Parsed tape data
- `combined_tape_data.csv`: Combined tape data(all dates)
- `lob_only_features.csv`: LOB data, with new features only. Details in the `Parsing_LOB.py` file

#### Combined Data
- `Tapes_all.csv`: Combined tape data, with date information.
- `LOB_all.csv`: Combined LOB data, drop the original columns and add some new features:
  - Total Bid Quantity: total quantity of all bid orders
  - Total Ask Quantity: total quantity of all ask orders
  - Max Bid Price: highest bid price
  - Min Ask Price: lowest ask price
  - Spread: difference between the lowest ask price and the highest bid price
  - Weighted Avg Bid Price: weighted average bid price
  - Weighted Avg Ask Price: weighted average ask price
  - Bid-Ask Quantity Ratio: ratio of total bid quantity to total ask quantity

### Packages
#### 1. `Feature_extraction_tapes.py`
This script has several functions to extract features from the tape data, including:
- Rolling statistics;
- Historical difference;
- RSI
- MACD
- Bollinger Bands
- Volume Weighted Average Price (VWAP)

#### 2. `Parsing_LOB.py` AND `Parsing_LOB3.0.py`
The two scripts are used to parse the LOB data and extract features. 
- `Parsing_LOB.py` is for one LOB data file.
- `Parsing_LOB3.0.py` uses some functions from `Parsing_LOB.py` and is for extracting features and combine 
all LOB data files into one file.

#### 3. `Resampling.py`
This script is used to resample the tape data and LOB data to the same time frequency.


## BackTrader
Backtrader is designed for backtesting trading strategies, this includes systems based on time series forecasting. It is possible to use Backtrader to test the signals generated by your forecasting models and execute simulated trades based on these signals. In this way, Backtrader not only helps you to see the performance of your strategies based on historical data, but also allows you to evaluate the profits you might make if you automated your trading based on these strategies.
What you need to do:
1. **Strategy Development**: Implement your time series forecasting model as a trading strategy in Backtrader. This includes defining the buy/sell logic, i.e. when to signal a trade based on your model predictions.
2. **Data Preparation**: Prepare your historical data (time series data) and divide it into a training set and a test set. You can use the training set to train your model and keep the test set to evaluate the performance of the strategy on unknown data.
3. **Backtest Execution**: Use Backtrader to execute a backtest, which will involve loading your strategy and test data, and then running the simulator to simulate the process of trading on the signals generated by the strategy.
4. **PERFORMANCE EVALUATION**: Backtrader will provide you with detailed backtesting results including, but not limited to, metrics such as return, maximum retracement, and Sharpe Ratio, which you can use to evaluate the performance of your automated trading system.

#### Installation
You can install BackTrader using pip:
```bash
pip install backtrader
```
or conda:
```bash
conda install -c conda-forge backtrader
```
